{% extends "base.html" %}
{% load static %}

{% block title %}Лента записей{% endblock %}

{% block content %}
<div class="container py-5">
  <h1>Лента записей</h1>
  <hr>
  
  {% for post in posts %}
  <article class="mb-5">
    <ul class="list-unstyled">
      <li>
        <strong>Место:</strong> {{ post.location }}
      </li>
      <li>
        <strong>Дата:</strong> {{ post.date }}
      </li>
      <li>
        <strong>Категория:</strong> 
        <a href="{% url 'blog:category' post.category %}">{{ post.category }}</a>
      </li>
    </ul>
    <p>
      {{ post.text|truncatewords:30 }}
    </p>
    <a href="{% url 'blog:post_detail' post.id %}" class="btn btn-primary">
      Читать полный текст
    </a>
    <hr>
  </article>
  {% empty %}
  <div class="alert alert-info" role="alert">
    Пока нет публикаций.
  </div>
  {% endfor %}
</div>
{% endblock %}
