{% extends "base.html" %}
{% load static %}

{% block title %}Публикации в категории {{ category_slug }}{% endblock %}

{% block content %}
<div class="container py-5">
  <h1>Публикации в категории - {{ category_slug }}</h1>
  {% for post in posts %}
    {% if post.category == category_slug %}
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">{{ post.location }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">{{ post.date }}</h6>
          <p class="card-text">{{ post.text|truncatewords:30 }}</p>
          <a href="{% url 'blog:post_detail' post.id %}" class="btn btn-primary">
            Читать полный текст
          </a>
          <span class="badge bg-secondary ms-2">{{ post.category }}</span>
        </div>
      </div>
    {% endif %}
  {% empty %}
    <div class="alert alert-info" role="alert">
      В категории "{{ category_slug }}" пока нет публикаций.
    </div>
  {% endfor %}
</div>
{% endblock %}
